<!doctype html>

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<title>formatting js test1</title>
<script src="../lib/esprima.js" type="text/javascript"></script>
<script src="../lib/underscore.js" type="text/javascript"></script>
<script src="../lib/jquery-2.0.3.min.js" type="text/javascript"></script>
<script src="../src/jsindentator.js" type="text/javascript"></script>
<script src="../src/style1.js" type="text/javascript"></script>
<script src="../src/style_clean.js" type="text/javascript"></script>


<style type="text/css">
textarea{width: 100%; height: 120px;} 
.textbox{display: inline; width: 40%}
 h4{display: block; font-size: 1.1em;margin: 0; padding: 0; } 
</style>

</head>

<body>

<button id="doitButton">do it!</button>
<div class="textbox">
<h4>Original Code</h4>
<textarea id="input">
var f=function(a){for(var i=0;i!=10;i++){alert(i);}}; var s=2,f=function namedf(a){}; var obj1={a: [2,3,4],b:true,c:1.23,d: {e:1.23,f:"hello", f1: function(a, b, c){var v2=1; switch(v2){case 0: (function(a){})(2); break; case 1: alert('good'); break; default: alert('def'); }; return a*b+c; }}};var s1="seba"; var r = window?'inabrowser':'notabrowser'; 
</textarea>
</div>

<!-- var s=2,f=function namedf(a){}; var obj1={a: [2,3,4],b:true,c:1.23,d: {e:1.23,f:"hello", f1: function(a, b, c){return a*b+c; }}};var s1="seba"; -->
<div class="textbox">
<h4>Nice Style 1</h4>
<textarea id="output1"></textarea>
</div>

<!-- <br/> -->
<div class="textbox">
<h4>Clean Style</h4>
<textarea id="output2"></textarea>
</div>


<script>
//install the style1
// 
jsindentator.visitors=jsindentator.visitorsStyleClean; 

var doit = function(e){
	var config = {tab: '\t'}; 
	
	jsindentator.visitors=jsindentator.visitorsStyle1; //installs style
	var indentedCode = jsindentator.main(jQuery('#input').html(), config);	
	jQuery('#output1').html(indentedCode);	 
	
	jsindentator.visitors=jsindentator.visitorsStyleClean; //installs style
	var indentedCode = jsindentator.main(jQuery('#input').html(), config);	
	jQuery('#output2').html(indentedCode);	
}; 
jQuery('#doitButton').click(doit); 
doit(); 
</script>
</body>
</html>
