/*! js-indentator 2013-08-19 */
jsindentator={};var ns=jsindentator={};_.extend(ns,{blockCount:0,print:function(a){ns.buffer.push(a)},_printIndent:function(a){for(var b=0;a>b;b++)ns.print(ns.tab)},printIndent:function(a){a||ns.buffer.push(ns.newline),ns._printIndent(ns.blockCount)},styles:{},originalCode:function(a){return a.range?1==a.range.length?ns.code.substring(a.range[0],a.range[1]):ns.code.substring(a.range[0],a.range[1]):""},buffer:[],setStyle:function(a){ns.visitors=a,a.installStyle&&_.isFunction(a.installStyle)&&a.installStyle()},main:function(a,b){b&&!ns.visitors.setStyleConfig?_.extend(ns,b):b&&ns.visitors.setStyleConfig&&ns.visitors.setStyleConfig(b),ns.code=a;var c=null,d=null;try{c=esprima.parse(a,{raw:!0,range:!0,comment:!0})}catch(e){d=e}return null==c?(console.log("JAVASCRIPT PARSING ERROR: "+d),void 0):(ns.buffer=[],ns._checkCommentsArray=c.comments,_(c.body).each(function(a){ns.visit(a)}),ns.buffer.join(""))},visit:function(a,b){if(a){var c=ns.visitors[a.type];if(c)ns._checkComments(a),c(a,b);else{var d=ns.originalCode(a);console.log("WARNING - Language concept not supported ",a,d),ns.buffer.push(d)}}},_checkComments:function(a){var b=ns._comments_currentNodeRange||[0,0];ns._comments_currentNodeRange=a.range||[0,0];for(var c=0;c<ns._checkCommentsArray.length;c++){var d=ns._checkCommentsArray[c];if(d.range[0]>=b[1]&&d.range[1]<=ns._comments_currentNodeRange[0]){ns.visit(d);break}}},logMessages:[],log:function(a){logMessages.push(a)},setConfig:function(a){_.extend(ns,a)}}),function(){var a=jsindentator,b=a.visit,c=a.print,d=a.printIndent;a.styles||(a.styles={}),a.quote="'",a.tab="	",a.newline="\n",jsindentator.styles.style1={installStyle:function(){},VariableDeclaration:function(e,f){f&&f.noFirstNewLine||d(),c("var ");for(var g=0;g<e.declarations.length;g++)b(e.declarations[g]),g<e.declarations.length-1&&(f&&f.noFirstNewLine?c(", "):(d(),c(","+a.tab)));f&&f.noLastSemicolon||c("; ")},VariableDeclarator:function(a){b(a.id),a.init&&(c(" = "),b(a.init))},Literal:function(a){0===a.raw.indexOf('"')||0===a.raw.indexOf("'")?c(a.raw):c(a.raw)},Identifier:function(a){c(a.name||"")},FunctionExpression:function(e){c("function "),b(e.id),c(" ( ");for(var f=0;f<e.params.length;f++)b(e.params[f]),f<e.params.length-1&&c(", ");c(" ) "),e.body.body.length>0?(d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")):c("{}")},BlockStatement:function(a){for(var c=0;c<a.body.length;c++)b(a.body[c])},UpdateExpression:function(a){a.prefix?(c(a.operator),b(a.argument)):(b(a.argument),c(a.operator))},ForStatement:function(e){d(),c("for("),b(e.init,{noFirstNewLine:!0}),b(e.test),c("; "),b(e.update),c(")"),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ArrayExpression:function(a){c("[");for(var d=0;d<a.elements.length;d++)b(a.elements[d]),d<a.elements.length-1&&c(", ");c("]")},ExpressionStatement:function(a){d(),b(a.expression),c(";")},CallExpression:function(a){"FunctionExpression"===a.callee.type&&c("("),b(a.callee),"FunctionExpression"===a.callee.type&&c(")"),c(" ( ");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(", ");c(" ) ")},BinaryExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},ObjectExpression:function(e){if(0===e.properties.length)return c("{}"),void 0;c("{"),a.blockCount++,d();for(var f=0;f<e.properties.length;f++){var g=e.properties[f];b(g.key),c(": "),b(g.value),f<e.properties.length-1&&(a.print(a.newline),a._printIndent(a.blockCount-1),c(","+a.tab))}a.blockCount--,d(),c("}")},ReturnStatement:function(a){d(),c("return "),b(a.argument),c(";")},ConditionalExpression:function(a){b(a.test),c(" ? "),b(a.consequent),c(" : "),b(a.alternate)},SwitchStatement:function(a){d(),c("switch ("),b(a.discriminant),c(")"),d(),c("{");for(var e=0;e<a.cases.length;e++)b(a.cases[e]);d(),c("}")},SwitchCase:function(e){d(),c(null==e.test?"default":"case "),b(e.test),c(":"),a.blockCount++;for(var f=0;f<e.consequent.length;f++)b(e.consequent[f]);a.blockCount--},EmptyStatement:function(){c(";")},BreakStatement:function(){d(),c("break;")},WhileStatement:function(e){d(),c("while ( "),b(e.test),c(" ) "),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},AssignmentExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},MemberExpression:function(a){b(a.object),c("."),b(a.property)},ThisExpression:function(){c("this")},SequenceExpression:function(a){c("( ");for(var d=0;d<a.expressions.length;d++)b(a.expressions[d]),d<a.expressions.length-1&&c(", ");c(" )")},DoWhileStatement:function(e){d(),c("do"),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}"),d(),c("while ( "),b(e.test),c(" );")},NewExpression:function(a){c("new "),b(a.callee),c("(");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(", ");c(")")},WithStatement:function(e){d(),c("with ( "),b(e.object),c(" )"),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("};"),d()},IfStatement:function(e,f){f&&f.noFirstNewLine||d(),c("if ( "),b(e.test),c(" )"),d(),c("{"),a.blockCount++,b(e.consequent),a.blockCount--,d(),c("}"),e.alternate&&(d(),c("else "),null==e.alternate.test&&(d(),c("{"),a.blockCount++),b(e.alternate,{noFirstNewLine:!0}),null==e.alternate.test&&(a.blockCount--,d(),c("}")))},FunctionDeclaration:function(e){if(d(),c("function "),b(e.id),c(" ( "),e.params)for(var f=0;f<e.params.length;f++)b(e.params[f]),f<e.params.length-1&&c(", ");c(" ) "),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},UnaryExpression:function(a){c(a.operator+" "),b(a.argument)},LogicalExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},TryStatement:function(e){d(),c("try"),d(),c("{"),a.blockCount++,b(e.block),a.blockCount--,d(),c("}");for(var f=0;f<e.handlers.length;f++)b(e.handlers[f]);e.finalizer&&(d(),c("finally"),d(),c("{"),a.blockCount++,b(e.finalizer),a.blockCount--,d(),c("}"))},CatchClause:function(e){d(),c("catch ( "),e.param&&b(e.param),c(" ) "),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ThrowStatement:function(a){d(),c("throw "),b(a.argument),c(";")},ForInStatement:function(e){d(),c("for ( "),b(e.left,{noFirstNewLine:!0,noLastSemicolon:!0}),c(" in "),b(e.right),c(" )"),d(),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ContinueStatement:function(){d(),c("continue;")},Block:function(a){d(),c("/* "),c(a.value),c(" */")},Line:function(a){d(),c("// "),c(a.value),d()}}}(),function(){var a=jsindentator,b=a.visit,c=a.print,d=a.printIndent;a.quote="'",a.tab="	",a.newline="\n",jsindentator.styles||(jsindentator.styles={}),jsindentator.styles.style2={VariableDeclaration:function(e,f){f&&f.noFirstNewLine||d(),c("var ");for(var g=0;g<e.declarations.length;g++)b(e.declarations[g]),g<e.declarations.length-1&&(c(", "),d(),c(a.tab));f&&f.noLastSemicolon||c("; ")},VariableDeclarator:function(a){b(a.id),a.init&&(c(" = "),b(a.init))},Literal:function(a){0===a.raw.indexOf('"')||0===a.raw.indexOf("'")?c(a.raw):c(a.raw)},Identifier:function(a){c(a.name||"")},FunctionExpression:function(e){c("function "),b(e.id),c(" ( ");for(var f=0;f<e.params.length;f++)b(e.params[f]),f<e.params.length-1&&c(", ");c(" ) "),e.body.body.length>0?(c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")):c("{}")},BlockStatement:function(a){for(var c=0;c<a.body.length;c++)b(a.body[c])},UpdateExpression:function(a){a.prefix?(c(a.operator),b(a.argument)):(b(a.argument),c(a.operator))},ForStatement:function(e){d(),c("for ( "),b(e.init,{noFirstNewLine:!0}),b(e.test),c("; "),b(e.update),c(" ) "),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ArrayExpression:function(a){c("[");for(var d=0;d<a.elements.length;d++)b(a.elements[d]),d<a.elements.length-1&&c(", ");c("]")},ExpressionStatement:function(a){d(),b(a.expression),c(";")},CallExpression:function(a){"FunctionExpression"===a.callee.type&&c("("),b(a.callee),"FunctionExpression"===a.callee.type&&c(")"),c(" ( ");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(", ");c(" ) ")},BinaryExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},ObjectExpression:function(e){if(0===e.properties.length)return c("{}"),void 0;c("{"),a.blockCount++,d();for(var f=0;f<e.properties.length;f++){var g=e.properties[f];b(g.key),c(": "),b(g.value),f<e.properties.length-1&&(c(", "),d())}a.blockCount--,d(),c("}")},ReturnStatement:function(a){d(),c("return "),b(a.argument),c(";")},ConditionalExpression:function(a){b(a.test),c(" ? "),b(a.consequent),c(" : "),b(a.alternate)},SwitchStatement:function(a){d(),c("switch ("),b(a.discriminant),c(")"),c(" {");for(var e=0;e<a.cases.length;e++)b(a.cases[e]);d(),c("}")},SwitchCase:function(e){d(),c(null==e.test?"default":"case "),b(e.test),c(":"),a.blockCount++;for(var f=0;f<e.consequent.length;f++)b(e.consequent[f]);a.blockCount--},EmptyStatement:function(){c(";")},BreakStatement:function(){d(),c("break;")},WhileStatement:function(e){d(),c("while ( "),b(e.test),c(" ) "),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},AssignmentExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},MemberExpression:function(a){b(a.object),c("."),b(a.property)},ThisExpression:function(){c("this")},SequenceExpression:function(a){c("( ");for(var d=0;d<a.expressions.length;d++)b(a.expressions[d]),d<a.expressions.length-1&&c(", ");c(" )")},DoWhileStatement:function(e){d(),c("do"),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("} "),c("while ( "),b(e.test),c(" );")},NewExpression:function(a){c("new "),b(a.callee),c("(");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(", ");c(")")},WithStatement:function(e){d(),c("with ( "),b(e.object),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("};"),d()},IfStatement:function(e,f){f&&f.noFirstNewLine||d(),c("if ( "),b(e.test),c(" )"),c(" { "),a.blockCount++,b(e.consequent),a.blockCount--,d(),c("}"),e.alternate&&(d(),c("else "),null==e.alternate.test&&(c(" {"),a.blockCount++),b(e.alternate,{noFirstNewLine:!0}),null==e.alternate.test&&(a.blockCount--,d(),c("}")))},FunctionDeclaration:function(e){if(d(),c("function "),b(e.id),c(" ( "),e.params)for(var f=0;f<e.params.length;f++)b(e.params[f]),f<e.params.length-1&&c(", ");c(" ) "),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},UnaryExpression:function(a){c(a.operator+" "),b(a.argument)},LogicalExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},TryStatement:function(e){d(),c("try"),c(" {"),a.blockCount++,b(e.block),a.blockCount--,d(),c("}");for(var f=0;f<e.handlers.length;f++)b(e.handlers[f]);e.finalizer&&(d(),c("finally"),c(" {"),a.blockCount++,b(e.finalizer),a.blockCount--,d(),c("}"))},CatchClause:function(e){d(),c("catch ( "),e.param&&b(e.param),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ThrowStatement:function(a){d(),c("throw "),b(a.argument),c(";")},ForInStatement:function(e){d(),c("for ( "),b(e.left,{noFirstNewLine:!0,noLastSemicolon:!0}),c(" in "),b(e.right),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ContinueStatement:function(){d(),c("continue;")},Block:function(a){d(),c("/* "),c(a.value),c(" */")},Line:function(a){d(),c("// "),c(a.value),d()}}}(),function(){var a=jsindentator,b=a.visit,c=a.print;jsindentator.styles||(jsindentator.styles={}),jsindentator.styles.clean={VariableDeclaration:function(a,d){c("var ");for(var e=0;e<a.declarations.length;e++)b(a.declarations[e]),e<a.declarations.length-1&&c(",");d&&d.noLastSemicolon||c(";")},VariableDeclarator:function(a){b(a.id),a.init&&(c("="),b(a.init))},Literal:function(a){c(a.raw)},Identifier:function(a){c(a.name||"")},FunctionExpression:function(d){c("function "),b(d.id),c("(");for(var e=0;e<d.params.length;e++)b(d.params[e]),e<d.params.length-1&&c(",");c("){"),a.blockCount++,b(d.body),a.blockCount--,c("}")},BlockStatement:function(a){for(var c=0;c<a.body.length;c++)b(a.body[c])},UpdateExpression:function(a){a.prefix?(c(a.operator),b(a.argument)):(b(a.argument),c(a.operator))},ForStatement:function(d){c("for("),b(d.init,{noFirstNewLine:!0}),b(d.test),c(";"),b(d.update),c("){"),a.blockCount++,b(d.body),a.blockCount--,c("};")},ArrayExpression:function(a){c("[");for(var d=0;d<a.elements.length;d++)b(a.elements[d]),d<a.elements.length-1&&c(",");c("]")},ExpressionStatement:function(a){b(a.expression),c(";")},CallExpression:function(d){"FunctionExpression"===d.callee.type&&(c("("),a.blockCount++),b(d.callee),"FunctionExpression"===d.callee.type&&(c(")"),a.blockCount--),c("(");for(var e=0;e<d.arguments.length;e++)b(d.arguments[e]),e<d.arguments.length-1&&c(",");c(")")},BinaryExpression:function(a){b(a.left),c("in"===a.operator?" in ":a.operator),b(a.right)},ObjectExpression:function(d){c("{"),a.blockCount++;for(var e=0;e<d.properties.length;e++){var f=d.properties[e];b(f.key),c(":"),b(f.value),e<d.properties.length-1&&c(",")}a.blockCount--,c("}")},ReturnStatement:function(a){c("return "),b(a.argument),c(";")},ConditionalExpression:function(a){b(a.test),c("?"),b(a.consequent),c(":"),b(a.alternate)},EmptyStatement:function(){c(";")},SwitchStatement:function(a){c("switch("),b(a.discriminant),c("){");for(var d=0;d<a.cases.length;d++)b(a.cases[d]);c("}")},SwitchCase:function(a){c(null==a.test?"default":"case "),b(a.test),c(":");for(var d=0;d<a.consequent.length;d++)b(a.consequent[d])},BreakStatement:function(){c("break;")},WhileStatement:function(d){c("while("),b(d.test),c("){"),a.blockCount++,b(d.body),a.blockCount--,c("}")},AssignmentExpression:function(a){b(a.left),c(a.operator),b(a.right)},MemberExpression:function(a){b(a.object),c("."),b(a.property)},ThisExpression:function(){c("this")},SequenceExpression:function(a){c("(");for(var d=0;d<a.expressions.length;d++)b(a.expressions[d]),d<a.expressions.length-1&&c(",");c(")")},DoWhileStatement:function(a){c("do{"),b(a.body),c("}while("),b(a.test),c(");")},NewExpression:function(a){c("new "),b(a.callee),c("(");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(",");c(")")},WithStatement:function(d){c("with("),b(d.object),c(")"),c("{"),a.blockCount++,b(d.body),a.blockCount--,c("};")},IfStatement:function(d){c("if("),b(d.test),c(")"),c("{"),a.blockCount++,b(d.consequent),a.blockCount--,d.alternate&&(c("}else "),null==d.alternate.test?(c("{"),a.blockCount++,b(d.alternate,{noFirstNewLine:!0}),a.blockCount--,c("}")):b(d.alternate,{noFirstNewLine:!0}))},FunctionDeclaration:function(d){if(c("function"),d.id&&(c(" "),b(d.id)),c("("),d.params)for(var e=0;e<d.params.length;e++)b(d.params[e]),e<d.params.length-1&&c(",");c("){"),a.blockCount++,b(d.body),a.blockCount--,c("}")},UnaryExpression:function(a){c(a.operator),b(a.argument)},LogicalExpression:function(a){b(a.left),c(a.operator),b(a.right)},TryStatement:function(d){c("try{"),a.blockCount++,b(d.block),a.blockCount--,c("}");for(var e=0;e<d.handlers.length;e++)b(d.handlers[e]);d.finalizer&&(c("finally"),c("{"),a.blockCount++,b(d.finalizer),a.blockCount--,c("}"))},CatchClause:function(d){if(c("catch("),d.params)for(var e=0;e<d.params.length;e++)b(d.params[e]),e<d.params.length-1&&c(",");c("){"),a.blockCount++,b(d.body),a.blockCount--,c("}")},ThrowStatement:function(a){c("throw "),b(a.argument),c(";")},ForInStatement:function(d){c("for("),b(d.left,{noFirstNewLine:!0,noLastSemicolon:!0}),c(" in "),b(d.right),c(")"),c("{"),a.blockCount++,b(d.body),a.blockCount--,c("}")},ContinueStatement:function(){c("continue;")},Block:function(){},Line:function(){}}}(),function(){var ns=jsindentator,visit=ns.visit,print=ns.print,indent=ns.printIndent;ns.styles||(ns.styles={});var variable1DefaultConfig=ns.config={tab:"	",newline:"\n",VAR:'return "var "',VAR_COMMA:'return ", "',VAR_COMMA_NEWLINE:'return ns.Indent() + "," + ns.tab',VAR_DECL_INIT:'return " = "',STMT_SEMICOLON:'return "; "',FUNCTION:'return "function "',FUNCTION_LP:'return " ( "',FUNCTION_RP:'return" ) "',FUNCTION_PARAM_COMMA:'return", "',FUNCTION_BODY_LP:'return "{" + ns.Indent()',LITERAL:function(a,b){0===a.raw.indexOf('"')?b.print(" /* TODO: HEY, we use single quotes, fix this literal: */"+a.raw):b.print(a.raw)},IDENTIFIER:"return node.name",Block:'ns.Indent() + "/* " + node.value + " */"',Line:'ns.Indent() + "// " + node.value '};ns.Indent=function(a){var b=[];a||b.push(ns.newline);for(var c=0;c<ns.blockCount;c++)b.push(ns.tab);return b.join("")},ns.createRenderer=function(s){if(_.isFunction(s))return s;var buf=[];buf.push("(function(node, ns, _){"),buf.push(s),buf.push("})");var str=buf.join("");try{var fn=eval(str),wrapped=_.wrap(fn,function(){var a=arguments[1],b=arguments[2],c=arguments[3];b.print(fn.apply(fn,[a,b,c]))});return wrapped}catch(e){throw console.log('"ERROR evaluating renderer '+s+"\noutput: "+str),e}},jsindentator.styles.variable1={setStyleConfig:function(a){ns.config=variable1DefaultConfig,_.each(_.keys(a),function(b){b&&(ns.config[b]=a[b])}),ns.styles.variable1.installStyle()},installStyle:function(){ns.variables={},_.each(_.keys(ns.config),function(a){if(a)try{ns.variables[a]=ns.createRenderer(ns.config[a])}catch(b){console.log("ERROR PARSING VARIABLE: ",a,b)}})},VariableDeclaration:function(a,b){b&&b.noFirstNewLine||indent(),ns.variables.VAR(a,ns,_);for(var c=0;c<a.declarations.length;c++)visit(a.declarations[c]),c<a.declarations.length-1&&(b&&b.noFirstNewLine?print(ns.variables.VAR_COMMA(a,ns,_)):ns.variables.VAR_COMMA_NEWLINE(a,ns,_));b&&b.noLastSemicolon||print(ns.variables.STMT_SEMICOLON(a,ns,_))},VariableDeclarator:function(a){visit(a.id),a.init&&(ns.variables.VAR_DECL_INIT(a,ns,_),visit(a.init))},Literal:function(a){ns.variables.LITERAL(a,ns,_)},Identifier:function(a){ns.variables.IDENTIFIER(a,ns,_)},FunctionExpression:function(a){ns.variables.FUNCTION(a,ns,_),visit(a.id),print(ns.variables.FUNCTION_LP(a,ns,_));for(var b=0;b<a.params.length;b++)visit(a.params[b]),b<a.params.length-1&&print(ns.variables.FUNCTION_PARAM_COMMA(a,ns,_));print(ns.variables.FUNCTION_RP(a,ns,_)),a.body.body.length>0?(print(ns.variables.FUNCTION_BODY_LP(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")):print("{}")},BlockStatement:function(a){for(var b=0;b<a.body.length;b++)visit(a.body[b])},UpdateExpression:function(a){a.prefix?(print(a.operator),visit(a.argument)):(visit(a.argument),print(a.operator))},ForStatement:function(a){indent(),print("for("),visit(a.init,{noFirstNewLine:!0}),visit(a.test),print("; "),visit(a.update),print(")"),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},ArrayExpression:function(a){print("[");for(var b=0;b<a.elements.length;b++)visit(a.elements[b]),b<a.elements.length-1&&print(", ");print("]")},ExpressionStatement:function(a){indent(),visit(a.expression),print(ns.variables.STMT_SEMICOLON(a,ns,_))},CallExpression:function(a){"FunctionExpression"===a.callee.type&&print("("),visit(a.callee),"FunctionExpression"===a.callee.type&&print(")"),print(" ( ");for(var b=0;b<a.arguments.length;b++)visit(a.arguments[b]),b<a.arguments.length-1&&print(", ");print(" ) ")},BinaryExpression:function(a){visit(a.left),print(" "+a.operator+" "),visit(a.right)},ObjectExpression:function(a){if(0===a.properties.length)return print("{}"),void 0;print("{"),ns.blockCount++,indent();for(var b=0;b<a.properties.length;b++){var c=a.properties[b];visit(c.key),print(": "),visit(c.value),b<a.properties.length-1&&(ns.print(ns.newline),ns._printIndent(ns.blockCount-1),print(","+ns.tab))}ns.blockCount--,indent(),print("}")},ReturnStatement:function(a){indent(),print("return "),visit(a.argument),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ConditionalExpression:function(a){visit(a.test),print(" ? "),visit(a.consequent),print(" : "),visit(a.alternate)},SwitchStatement:function(a){indent(),print("switch ("),visit(a.discriminant),print(")"),indent(),print("{");for(var b=0;b<a.cases.length;b++)visit(a.cases[b]);indent(),print("}")},SwitchCase:function(a){indent(),print(null==a.test?"default":"case "),visit(a.test),print(":"),ns.blockCount++;for(var b=0;b<a.consequent.length;b++)visit(a.consequent[b]);ns.blockCount--},EmptyStatement:function(a){print(ns.variables.STMT_SEMICOLON(a,ns,_))},BreakStatement:function(){indent(),print("break;")},WhileStatement:function(a){indent(),print("while ( "),visit(a.test),print(" ) "),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},AssignmentExpression:function(a){visit(a.left),print(" "+a.operator+" "),visit(a.right)},MemberExpression:function(a){visit(a.object),print("."),visit(a.property)},ThisExpression:function(){print("this")},SequenceExpression:function(a){print("( ");for(var b=0;b<a.expressions.length;b++)visit(a.expressions[b]),b<a.expressions.length-1&&print(", ");print(" )")},DoWhileStatement:function(a){indent(),print("do"),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}"),indent(),print("while ( "),visit(a.test),print(" )"),print(ns.variables.STMT_SEMICOLON(a,ns,_))},NewExpression:function(a){print("new "),visit(a.callee),print("(");for(var b=0;b<a.arguments.length;b++)visit(a.arguments[b]),b<a.arguments.length-1&&print(", ");print(")")},WithStatement:function(a){indent(),print("with ( "),visit(a.object),print(" )"),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}"),print(ns.variables.STMT_SEMICOLON(a,ns,_)),indent()},IfStatement:function(a,b){b&&b.noFirstNewLine||indent(),print("if ( "),visit(a.test),print(" )"),indent(),print("{"),ns.blockCount++,visit(a.consequent),ns.blockCount--,indent(),print("}"),a.alternate&&(indent(),print("else "),null==a.alternate.test&&(indent(),print("{"),ns.blockCount++),visit(a.alternate,{noFirstNewLine:!0}),null==a.alternate.test&&(ns.blockCount--,indent(),print("}")))},FunctionDeclaration:function(a){if(indent(),print("function "),visit(a.id),print(" ( "),a.params)for(var b=0;b<a.params.length;b++)visit(a.params[b]),b<a.params.length-1&&print(", ");print(" ) "),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},UnaryExpression:function(a){print(a.operator+" "),visit(a.argument)},LogicalExpression:function(a){visit(a.left),print(" "+a.operator+" "),visit(a.right)},TryStatement:function(a){indent(),print("try"),indent(),print("{"),ns.blockCount++,visit(a.block),ns.blockCount--,indent(),print("}");for(var b=0;b<a.handlers.length;b++)visit(a.handlers[b]);indent(),print("finally"),indent(),print("{"),ns.blockCount++,visit(a.finalizer),ns.blockCount--,indent(),print("}")},CatchClause:function(a){console.log(a),indent(),print("catch ( "),a.param&&visit(a.param),print(" ) "),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},ThrowStatement:function(a){indent(),print("throw "),visit(a.argument),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ForInStatement:function(a){indent(),print("for ( "),visit(a.left,{noFirstNewLine:!0,noLastSemicolon:!0}),print(" in "),visit(a.right),print(" )"),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}"),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ContinueStatement:function(a){indent(),print("continue"),print(ns.variables.STMT_SEMICOLON(a,ns,_))},Block:function(a){indent(),print("/* "),print(a.value),print(" */")},Line:function(a){indent(),print("// "),print(a.value),indent()}}}(),function(){var a=jsindentator,b=a.visit,c=a.print,d=a.printIndent;jsindentator.styles||(jsindentator.styles={}),a.styles.prettify1||(a.styles.prettify1={});var e={};a.styles.prettify1.config||(a.styles.prettify1.config=e={tag:"b"});var f=function(a){c("<"+e.tag+(a?' class="'+a+'"':"")+">")},g=function(){c("</"+e.tag+">")},h=function(a,b){f(b),c(a),g()};jsindentator.styles.prettify1={VariableDeclaration:function(a,c){f("VariableDeclaration "+(c&&c.noFirstNewLine?" noNewLine":"")),c&&c.noFirstNewLine||d(),h("var","keyword-var keyword");for(var e=0;e<a.declarations.length;e++)b(a.declarations[e]),e<a.declarations.length-1&&h(",","comma operand");c&&c.noLastSemicolon||h(";","semicolon"),g()},VariableDeclarator:function(a){f("VariableDeclarator"),b(a.id),a.init&&(h("=","operand"),b(a.init)),g()},Literal:function(a){h(a.raw,"Literal")},Identifier:function(a){h(a.name,"Identifier")},FunctionExpression:function(c){f("FunctionExpression"),h("function","keyword-function keyword"),b(c.id),h("(","paren-left");for(var d=0;d<c.params.length;d++)b(c.params[d]),d<c.params.length-1&&h(",","comma operand");h(")","paren-right"),c.body.body.length>0?(h("{","curly-left"),a.blockCount++,b(c.body),a.blockCount--,h("}","curly-right")):(h("{","curly-left"),h("}","curly-right")),g()},BlockStatement:function(a){f("BlockStatement");for(var c=0;c<a.body.length;c++)b(a.body[c]);g()},UpdateExpression:function(a){f("UpdateExpression"),a.prefix?(h(a.operator,"operator"),b(a.argument)):(b(a.argument),h(a.operator,"operator")),g()},ForStatement:function(c){f("BlockStatement statement"),h("for","keyword keyword-for"),h("(","paren-left"),b(c.init,{noFirstNewLine:!0}),b(c.test),h(";","semicolon"),b(c.update),h(")","paren-right"),h("{","curly-right"),a.blockCount++,b(c.body),a.blockCount--,h("}","curly-right"),g()},ArrayExpression:function(a){f("ArrayExpression"),h("[","square-left");for(var d=0;d<a.elements.length;d++)b(a.elements[d]),d<a.elements.length-1&&c(", ");h("]","square-right"),g()},ExpressionStatement:function(a){f("ExpressionStatement"),b(a.expression),h(";","semicolon"),g()},CallExpression:function(a){f("CallExpression"),"FunctionExpression"===a.callee.type&&h("(","paren-left"),b(a.callee),"FunctionExpression"===a.callee.type&&h(")","paren-right"),h("(","paren-left");for(var c=0;c<a.arguments.length;c++)b(a.arguments[c]),c<a.arguments.length-1&&h(",","comma operand");h(")","paren-right"),g()},BinaryExpression:function(a){f("BinaryExpression"),b(a.left),h(a.operator,"operand"),b(a.right),g()},ObjectExpression:function(c){if(f("ObjectExpression"),0===c.properties.length)return h("{","curly-left"),h("}","curly-right"),void 0;h("{","curly-left"),a.blockCount++;for(var d=0;d<c.properties.length;d++){var e=c.properties[d];b(e.key),h(c.operator,"operand colon"),b(e.value),d<c.properties.length-1&&h(",","comma operand")}a.blockCount--,h("}","curly-right"),g()},ReturnStatement:function(a){f("ReturnStatement"),h("return","keyword keyword-return"),b(a.argument),h(";","semicolon"),g()},ConditionalExpression:function(a){f("ConditionalExpression"),b(a.test),h("?","question operand"),b(a.consequent),h(":","colon operand"),b(a.alternate),g()},SwitchStatement:function(a){f("SwitchStatement"),h("switch","keyword keyword-switch"),h("(","paren-left"),b(a.discriminant),h(")","paren-right"),h("{","curly-left");for(var c=0;c<a.cases.length;c++)b(a.cases[c]);h("}","curly-right"),g()},SwitchCase:function(c){f("SwitchCase"),h(null==c.test?"default":"case","keyword case"),b(c.test),h(":","operand colon"),a.blockCount++;for(var d=0;d<c.consequent.length;d++)b(c.consequent[d]);a.blockCount--,g()},EmptyStatement:function(){f("EmptyStatement"),h(";","semicolon"),g()},BreakStatement:function(){f("EmptyStatement"),h("break","keyword keyword-break"),h(";","semicolon"),g()},WhileStatement:function(c){f("EmptyStatement"),h("(","paren-left"),b(c.test),h(")","paren-right"),h("{","curly-left"),a.blockCount++,b(c.body),a.blockCount--,h("}","curly-right")},AssignmentExpression:function(a){f("MemberExpression"),b(a.left),c(" "+a.operator+" "),b(a.right),g()},MemberExpression:function(a){f("MemberExpression"),b(a.object),h(".","operand dot"),b(a.property),g()},ThisExpression:function(){f("ThisExpression"),h("this","keyword keyword-this"),g()},SequenceExpression:function(a){c("( ");for(var d=0;d<a.expressions.length;d++)b(a.expressions[d]),d<a.expressions.length-1&&c(", ");c(" )")},DoWhileStatement:function(e){d(),c("do"),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("} "),c("while ( "),b(e.test),c(" );")},NewExpression:function(a){c("new "),b(a.callee),c("(");for(var d=0;d<a.arguments.length;d++)b(a.arguments[d]),d<a.arguments.length-1&&c(", ");c(")")},WithStatement:function(e){d(),c("with ( "),b(e.object),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("};"),d()},IfStatement:function(e,f){f&&f.noFirstNewLine||d(),c("if ( "),b(e.test),c(" )"),c(" { "),a.blockCount++,b(e.consequent),a.blockCount--,d(),c("}"),e.alternate&&(d(),c("else "),null==e.alternate.test&&(c(" {"),a.blockCount++),b(e.alternate,{noFirstNewLine:!0}),null==e.alternate.test&&(a.blockCount--,d(),c("}")))},FunctionDeclaration:function(e){if(d(),c("function "),b(e.id),c(" ( "),e.params)for(var f=0;f<e.params.length;f++)b(e.params[f]),f<e.params.length-1&&c(", ");c(" ) "),c("{"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},UnaryExpression:function(a){c(a.operator+" "),b(a.argument)},LogicalExpression:function(a){b(a.left),c(" "+a.operator+" "),b(a.right)},TryStatement:function(e){d(),c("try"),c(" {"),a.blockCount++,b(e.block),a.blockCount--,d(),c("}");for(var f=0;f<e.handlers.length;f++)b(e.handlers[f]);e.finalizer&&(d(),c("finally"),c(" {"),a.blockCount++,b(e.finalizer),a.blockCount--,d(),c("}"))},CatchClause:function(e){d(),c("catch ( "),e.param&&b(e.param),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ThrowStatement:function(a){d(),c("throw "),b(a.argument),c(";")},ForInStatement:function(e){d(),c("for ( "),b(e.left,{noFirstNewLine:!0,noLastSemicolon:!0}),c(" in "),b(e.right),c(" )"),c(" {"),a.blockCount++,b(e.body),a.blockCount--,d(),c("}")},ContinueStatement:function(){d(),c("continue;")},Block:function(a){d(),c("/* "),c(a.value),c(" */")},Line:function(a){d(),c("// "),c(a.value),d()}}}();