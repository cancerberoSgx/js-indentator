/*! js-indentator 2013-12-08 */
!function(){var ns=jsindentator,visit=ns.visit,print=ns.print,indent=ns.printIndent;ns.styles||(ns.styles={});var variable1DefaultConfig=ns.config={tab:"	",newline:"\n",VAR:'return "var "',VAR_COMMA:'return ", "',VAR_COMMA_NEWLINE:'return ns.Indent() + "," + ns.tab',VAR_DECL_INIT:'return " = "',STMT_SEMICOLON:'return "; "+ ns.Indent() ',FUNCTION:'return "function "',FUNCTION_PAREN_LEFT:'return " ( "',FUNCTION_PAREN_RIGHT:'return " ) "',FUNCTION_PARAM_COMMA:'return", "',FUNCTION_CURLY_LEFT:'return "{" + ns.Indent()',FUNCTION_CURLY_RIGHT:'return "}" + ns.Indent()',OPERAND_UPDATE:'return " "+node.operator+" "; ',FOR:'return "for"; ',FOR_COLON:'return "; "; ',FOR_PAREN_LEFT:'return " ( "; ',FOR_PAREN_RIGHT:'return " ) " + ns.Indent(); ',FOR_CURLY_LEFT:'return ns.Indent()+" { "+ ns.Indent() ; ',FOR_CURLY_RIGHT:'return " { "; ',SQUARE_LEFT:'return " [ "; ',SQUARE_RIGHT:'return " ] "; ',CALL_COMMA:'return ", "; ',CALL_PAREN_LEFT:'return " ( "; ',CALL_PAREN_RIGHT:'return " ) "; ',BYNARY_OPERATOR:"return node.operator; ",OBJECT_CURLY_LEFT:'return "{"; ',OBJECT_CURLY_RIGHT:'return "}"; ',OBJECT_COMMA:'return  ns.Indent(false, ns.blockCount-1) + "," + ns.tab;  ',RETURN:'return ns.Indent() + "return"; ',QUESTION:'return " ? "; ',COLON:'return " : "; ',SEQUENCE_PAREN_LEFT:'return "("; ',SEQUENCE_COMMA:'return ", "; ',SEQUENCE_PAREN_RIGHT:'return ")"; ',SWITCH:'return ns.Indent() + "switch"; ',SWITCH_PAREN_LEFT:'return "("; ',SWITCH_PAREN_RIGHT:'return ")"+ns.Indent(); ',SWITCH_CURLY_LEFT:'return "{"; ',SWITCH_CURLY_RIGHT:'return ns.Indent() + "}"; ',SWITCH_CASE:'return ns.Indent() + node.test==null ? "default" : "case "; ',SWITCH_COLON:'return ":"; ',BREAK:'return "break"; ',WHILE:'return "while"; ',WHILE_PAREN_LEFT:'return "("; ',WHILE_PAREN_RIGHT:'return ")"; ',WHILE_CURLY_LEFT:'return "{"; ',WHILE_CURLY_RIGHT:'return "}"; ',OPERATOR_ASSIGNMENT:'return " "+node.operator+" "; ',OPERATOR_DOT:'return "."; ',THIS:'return " this"; ',DO:'return "do "; ',DO_CURLY_LEFT:'return ns.Indent() + "{"; ',DO_CURLY_RIGHT:'return  ns.Indent() + "}"; ',NEW:'return "new "; ',NEW_PAREN_LEFT:'return "( "; ',NEW_PAREN_RIGHT:'return ")"; ',NEW_COMMA:'return ", "; ',WITH:'return  ns.Indent() + "with  "; ',WITH_PAREN_LEFT:'return "("; ',WITH_PAREN_RIGHT:'return ")"; ',WITH_CURLY_LEFT:'return "{" ',WITH_CURLY_RIGHT:'return  ns.Indent() +"}"; ',LITERAL:function(a,b){0===a.raw.indexOf('"')?(b.print("'"+a.raw.replace("'","")),b.print(" /* TODO: HEY, we use single quotes, fix this literal: */"+a.raw)):b.print(a.raw)},IDENTIFIER:"return node.name",Block:'ns.Indent() + "/* " + node.value + " */"',Line:'ns.Indent() + "// " + node.value '};ns.Indent=function(a,b){var c=[];a||c.push(ns.newline);for(var d=b?b:ns.blockCount,e=0;d>e;e++)c.push(ns.tab);return c.join("")},ns.createRenderer=function(s){if(_.isFunction(s))return s;var buf=[];buf.push("(function(node, ns, _){"),buf.push(s),buf.push("})");var str=buf.join("");try{var fn=eval(str),wrapped=_.wrap(fn,function(){var a=arguments[1],b=arguments[2],c=arguments[3];b.print(fn.apply(fn,[a,b,c]))});return wrapped}catch(e){throw console.log('"ERROR evaluating renderer '+s+"\noutput: "+str),e}},jsindentator.styles.variable1={setStyleConfig:function(a){ns.config=variable1DefaultConfig,_.each(_.keys(a),function(b){b&&(ns.config[b]=a[b])}),ns.styles.variable1.installStyle()},installStyle:function(){ns.variables={},_.each(_.keys(ns.config),function(a){if(a)try{ns.variables[a]=ns.createRenderer(ns.config[a])}catch(b){console.log("ERROR PARSING VARIABLE: ",a,b)}})},VariableDeclaration:function(a,b){b&&b.noFirstNewLine||indent(),ns.variables.VAR(a,ns,_);for(var c=0;c<a.declarations.length;c++)visit(a.declarations[c]),c<a.declarations.length-1&&(b&&b.noFirstNewLine?print(ns.variables.VAR_COMMA(a,ns,_)):ns.variables.VAR_COMMA_NEWLINE(a,ns,_));b&&b.noLastSemicolon||print(ns.variables.STMT_SEMICOLON(a,ns,_))},VariableDeclarator:function(a){visit(a.id),a.init&&(ns.variables.VAR_DECL_INIT(a,ns,_),visit(a.init))},Literal:function(a){ns.variables.LITERAL(a,ns,_)},Identifier:function(a){ns.variables.IDENTIFIER(a,ns,_)},FunctionExpression:function(a){ns.variables.FUNCTION(a,ns,_),visit(a.id),print(ns.variables.FUNCTION_PAREN_LEFT(a,ns,_));for(var b=0;b<a.params.length;b++)visit(a.params[b]),b<a.params.length-1&&print(ns.variables.FUNCTION_PARAM_COMMA(a,ns,_));print(ns.variables.FUNCTION_PAREN_RIGHT(a,ns,_)),a.body.body.length>0?(print(ns.variables.FUNCTION_CURLY_LEFT(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,print(ns.variables.FUNCTION_CURLY_RIGHT(a,ns,_))):(print(ns.variables.FUNCTION_CURLY_LEFT(a,ns,_)),print(ns.variables.FUNCTION_CURLY_RIGHT(a,ns,_)))},BlockStatement:function(a){for(var b=0;b<a.body.length;b++)visit(a.body[b])},UpdateExpression:function(a){a.prefix?(print(ns.variables.OPERAND_UPDATE(a,ns,_)),visit(a.argument)):(visit(a.argument),print(ns.variables.OPERAND_UPDATE(a,ns,_)))},ForStatement:function(a){print(ns.variables.FOR(a,ns,_)),print(ns.variables.FOR_PAREN_LEFT(a,ns,_)),visit(a.init,{noFirstNewLine:!0}),visit(a.test),print(ns.variables.FOR_COLON(a,ns,_)),visit(a.update),print(ns.variables.FOR_PAREN_RIGHT(a,ns,_)),print(ns.variables.FOR_CURLY_LEFT(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,print(ns.variables.FOR_CURLY_RIGHT(a,ns,_))},ArrayExpression:function(a){print(ns.variables.SQUARE_LEFT(a,ns,_));for(var b=0;b<a.elements.length;b++)visit(a.elements[b]),b<a.elements.length-1&&print(", ");print(ns.variables.SQUARE_RIGHT(a,ns,_))},ExpressionStatement:function(a){visit(a.expression),print(ns.variables.STMT_SEMICOLON(a,ns,_))},CallExpression:function(a){"FunctionExpression"===a.callee.type&&print(ns.variables.CALL_PAREN_LEFT(a,ns,_)),visit(a.callee),"FunctionExpression"===a.callee.type&&print(ns.variables.CALL_PAREN_RIGHT(a,ns,_)),print(ns.variables.CALL_PAREN_LEFT(a,ns,_));for(var b=0;b<a.arguments.length;b++)visit(a.arguments[b]),b<a.arguments.length-1&&print(ns.variables.CALL_COMMA(a,ns,_));print(ns.variables.CALL_PAREN_RIGHT(a,ns,_))},BinaryExpression:function(a){visit(a.left),print(ns.variables.BYNARY_OPERATOR(a,ns,_)),visit(a.right)},ObjectExpression:function(a){print(ns.variables.OBJECT_CURLY_LEFT(a,ns,_)),ns.blockCount++;for(var b=0;b<a.properties.length;b++){var c=a.properties[b];visit(c.key),print(": "),visit(c.value),b<a.properties.length-1&&print(ns.variables.OBJECT_COMMA(a,ns,_))}ns.blockCount--,print(ns.variables.OBJECT_CURLY_RIGHT(a,ns,_))},ReturnStatement:function(a){print(ns.variables.RETURN(a,ns,_)),visit(a.argument),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ConditionalExpression:function(a){visit(a.test),print(ns.variables.QUESTION(a,ns,_)),visit(a.consequent),print(ns.variables.COLON(a,ns,_)),visit(a.alternate)},SwitchStatement:function(a){print(ns.variables.SWITCH(a,ns,_)),print(ns.variables.SWITCH_PAREN_LEFT(a,ns,_)),visit(a.discriminant),print(ns.variables.SWITCH_PAREN_RIGHT(a,ns,_)),print(ns.variables.SWITCH_CURLY_LEFT(a,ns,_));for(var b=0;b<a.cases.length;b++)visit(a.cases[b]);print(ns.variables.SWITCH_CURLY_RIGHT(a,ns,_))},SwitchCase:function(a){print(ns.variables.SWITCH_CASE(a,ns,_)),visit(a.test),print(ns.variables.SWITCH_COLON(a,ns,_)),ns.blockCount++;for(var b=0;b<a.consequent.length;b++)visit(a.consequent[b]);ns.blockCount--},EmptyStatement:function(a){print(ns.variables.STMT_SEMICOLON(a,ns,_))},BreakStatement:function(a){print(ns.variables.BREAK(a,ns,_))},WhileStatement:function(a){print(ns.variables.WHILE(a,ns,_)),print(ns.variables.WHILE_PAREN_LEFT(a,ns,_)),visit(a.test),print(ns.variables.WHILE_PAREN_RIGHT(a,ns,_)),print(ns.variables.WHILE_CURLY_LEFT(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,print(ns.variables.WHILE_CURLY_RIGHT(a,ns,_))},AssignmentExpression:function(a){visit(a.left),print(ns.variables.OPERATOR_ASSIGNMENT(a,ns,_)),visit(a.right)},MemberExpression:function(a){visit(a.object),print(ns.variables.OPERATOR_DOT(a,ns,_)),visit(a.property)},ThisExpression:function(a){print(ns.variables.THIS(a,ns,_))},SequenceExpression:function(a){print(ns.variables.SEQUENCE_PAREN_LEFT(a,ns,_));for(var b=0;b<a.expressions.length;b++)visit(a.expressions[b]),b<a.expressions.length-1&&print(ns.variables.SEQUENCE_COMMA(a,ns,_));print(ns.variables.SEQUENCE_PAREN_RIGHT(a,ns,_))},DoWhileStatement:function(a){print(ns.variables.DO(a,ns,_)),print(ns.variables.DO_CURLY_LEFT(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,print(ns.variables.DO_CURLY_RIGHT(a,ns,_)),print(ns.variables.WHILE(a,ns,_)),print(ns.variables.WHILE_PAREN_LEFT(a,ns,_)),visit(a.test),print(ns.variables.WHILE_PAREN_RIGHT(a,ns,_)),print(ns.variables.STMT_SEMICOLON(a,ns,_))},NewExpression:function(a){print(ns.variables.NEW(a,ns,_)),visit(a.callee),print(ns.variables.NEW_PAREN_LEFT(a,ns,_));for(var b=0;b<a.arguments.length;b++)visit(a.arguments[b]),b<a.arguments.length-1&&print(ns.variables.NEW_COMMA(a,ns,_));print(ns.variables.NEW_PAREN_RIGHT(a,ns,_))},WithStatement:function(a){print(ns.variables.WITH(a,ns,_)),print(ns.variables.WITH_PAREN_LEFT(a,ns,_)),visit(a.object),print(ns.variables.WITH_PAREN_RIGHT(a,ns,_)),print(ns.variables.WITH_CURLY_LEFT(a,ns,_)),ns.blockCount++,visit(a.body),ns.blockCount--,print(ns.variables.WITH_CURLY_RIGHT(a,ns,_)),print(ns.variables.STMT_SEMICOLON(a,ns,_))},IfStatement:function(a,b){b&&b.noFirstNewLine||indent(),print("if ( "),visit(a.test),print(" )"),indent(),print("{"),ns.blockCount++,visit(a.consequent),ns.blockCount--,indent(),print("}"),a.alternate&&(indent(),print("else "),null==a.alternate.test&&(indent(),print("{"),ns.blockCount++),visit(a.alternate,{noFirstNewLine:!0}),null==a.alternate.test&&(ns.blockCount--,indent(),print("}")))},FunctionDeclaration:function(a){if(indent(),print("function "),visit(a.id),print(" ( "),a.params)for(var b=0;b<a.params.length;b++)visit(a.params[b]),b<a.params.length-1&&print(", ");print(" ) "),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},UnaryExpression:function(a){print(a.operator+" "),visit(a.argument)},LogicalExpression:function(a){visit(a.left),print(" "+a.operator+" "),visit(a.right)},TryStatement:function(a){indent(),print("try"),indent(),print("{"),ns.blockCount++,visit(a.block),ns.blockCount--,indent(),print("}");for(var b=0;b<a.handlers.length;b++)visit(a.handlers[b]);indent(),print("finally"),indent(),print("{"),ns.blockCount++,visit(a.finalizer),ns.blockCount--,indent(),print("}")},CatchClause:function(a){console.log(a),indent(),print("catch ( "),a.param&&visit(a.param),print(" ) "),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}")},ThrowStatement:function(a){indent(),print("throw "),visit(a.argument),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ForInStatement:function(a){indent(),print("for ( "),visit(a.left,{noFirstNewLine:!0,noLastSemicolon:!0}),print(" in "),visit(a.right),print(" )"),indent(),print("{"),ns.blockCount++,visit(a.body),ns.blockCount--,indent(),print("}"),print(ns.variables.STMT_SEMICOLON(a,ns,_))},ContinueStatement:function(a){indent(),print("continue"),print(ns.variables.STMT_SEMICOLON(a,ns,_))},Block:function(a){indent(),print("/* "),print(a.value),print(" */")},Line:function(a){indent(),print("// "),print(a.value),indent()}}}();